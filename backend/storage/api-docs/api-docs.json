{
    "openapi": "3.0.0",
    "info": {
        "title": "GoldRushFusion Api",
        "version": "1.0"
    },
    "servers": [{
        "url": "http://localhost:8000/api",
        "description": "Development server"
    }],
    "paths": {
        "/register": {
            "post": {
                "summary": "REGISTER",
                "description": "Register User From Form",
                "tags": ["Auth"],
                "parameters": [
                    {
                        "$ref": "#/components/parameters/Token"
                    },
                    {
                        "name": "nick",
                        "in": "body",
                        "description": "nick of the register form",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "required|email",
                            "example": "JorgitoCrack"
                        }
                    },
                    {
                        "name": "name",
                        "in": "body",
                        "description": "name of the register form",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "required",
                            "example": "Mark"
                        }
                    },
                    {
                        "name": "last_name",
                        "in": "body",
                        "description": "last_name of the register form",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "required",
                            "example": "Zuckenberg"
                        }
                    },
                    {
                        "name": "email",
                        "in": "body",
                        "description": "email of the register form",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "required|email|unique:users",
                            "example": "test@test.com"
                        }
                    },
                    {
                        "name": "id_college",
                        "in": "body",
                        "description": "id_college of the register form",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "required",
                            "example": "5"
                        }
                    },
                    {
                        "name": "password",
                        "in": "body",
                        "description": "password of the register form",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "required|confirmed|min:6",
                            "example": "password"
                        }
                    }

                    
                    

                ],
                "requestBody": {
                    "$ref": "#/components/requestBodies/RegisterBody"
                },
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/200Response"
                    },
                    "400": {
                        "$ref": "#/components/responses/400Response"
                    }
                }
            }
        },
        "/login": {
            "post": {
                "summary": "LOGIN",
                "description": "Login User From Form",
                "tags": ["Auth"],
                "parameters": [
                    {
                        "$ref": "#/components/parameters/Token"
                    },
                    {
                        "$ref": "#/components/parameters/email"
                    },
                    {
                        "name": "password",
                        "in": "body",
                        "description": "password of the register form",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "required",
                            "example": "password"
                        }
                    }
                    
                    

                ],
                "requestBody": {
                    "$ref": "#/components/requestBodies/RegisterBody"
                },
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/200Response"
                    },
                    "400": {
                        "$ref": "#/components/responses/400Response"
                    }
                }
            }
        },
        "/users/get-user": {
            "post": {
                "summary": "GET-USER",
                "description": "Find User by id",
                "tags": ["User"],
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "id_user",
                        "in": "body",
                        "description": "id from user",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "required",
                            "example": "5"
                        }
                    }
                ],
                "requestBody": {
                    "$ref": "#/components/requestBodies/GetUserBody"
                },
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/CreateResponse"
                    },
                    "400": {
                        "$ref": "#/components/responses/400msgResponse"
                    }
                }
            }
        },
        "/users/edit-user": {
            "post": {
                "summary": "EDIT-USER",
                "description": "Edit User by id",
                "tags": ["User"],
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "id_user",
                        "in": "body",
                        "description": "id from user",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "required",
                            "example": "5"
                        }
                    },
                    {
                        "name": "name",
                        "in": "body",
                        "description": "name from user",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "",
                            "example": "Mike"
                        }
                    },
                    {
                        "name": "last_name",
                        "in": "body",
                        "description": "last_name from user",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "",
                            "example": "Romero"
                        }
                    },
                    {
                        "name": "nick",
                        "in": "body",
                        "description": "nick from user",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "",
                            "example": "TerminatorCoC"
                        }
                    },
                    {
                        "name": "nick",
                        "in": "body",
                        "description": "nick from user",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "required",
                            "example": "TerminatorCoC"
                        }
                    },
                    {
                        "name": "email",
                        "in": "body",
                        "description": "email from user",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "",
                            "example": "terminator@gmail.com"
                        }
                    },
                    {
                        "name": "role",
                        "in": "body",
                        "description": "email from user",
                        "required": true,
                        "schema": {
                            "type": "enum",
                            "enum": ["student","teacher","college_manager","admin"],
                            "example": "student"
                        }
                    }
                    

                    

                ],
                "requestBody": {
                    "$ref": "#/components/requestBodies/GetUserBody"
                },
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/CreateResponse"
                    },
                    "400": {
                        "$ref": "#/components/responses/400msgResponse"
                    }
                }
            }
        }
    },

    "components": {

        "securitySchemes": {
            "bearerAuth": {
                "type": "http",
                "scheme": "bearer",
                "bearerFormat": "JWT"
            }
        },
        "parameters": {
            "Token": {
                "name": "token",
                "in": "body",
                "description": "token to be passed as a header",
                "required": true,
                "schema": {
                    "type": "string",
                    "description": "required|email",
                    "example": "token"
                }
            },
            "email": {
                "name": "email",
                "in": "body",
                "description": "email of the form",
                "required": true,
                "schema": {
                    "type": "string",
                    "description": "required|email",
                    "example": "test@test.com"
                }
            }
        },
        "requestBodies": {
            "AuthBody": {
                "$ref": "LoginBody.json"
            },
            "RegisterBody": {
                "$ref": "RegisterBody.json"
            },
            "GetUserBody": {
                "$ref": "GetUserBody.json"
            }
        },
        "responses": {
            "AuthResponse": {
                "description": "Esta respuesta es si todo ok",
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "LoginResponse.json"
                        }
                    }
                }

            },
            "200Response": {
                "description": "Creado con exito!",
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "200Response.json"
                        }
                    }
                }

            },
            "400Response": {
                "description": "Fallo al crear!",
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "400Response.json"
                        }
                    }
                }

            },
            "403Response": {
                "description": "Fallo al entrar!",
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "403Response.json"
                        }
                    }
                }

            },
            "200.3Response": {
                "description": "Has entrado con exito!!",
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "200.3Response.json"
                        }
                    }
                }

            },
            "CreateResponse": {
                "description": "Ha funcionado con exito!!",
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "CreateResponse.json"
                        }
                    }
                }

            },
            "400msgResponse": {
                "description": "Encontrado con exito!!",
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "400msgResponse.json"
                        }
                    }
                }

            }
        }
    }
}