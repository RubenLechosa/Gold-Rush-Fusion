{
    "openapi": "3.0.0",
    "info": {
        "title": "GoldRushFusion Api",
        "version": "1.0"
    },
    "servers": [{
        "url": "http://localhost:8000/api",
        "description": "Development server"
    }],
    "paths": {
        "/register": {
            "post": {
                "summary": "REGISTER",
                "description": "Register User From Form",
                "tags": ["Auth"],
                "parameters": [
                    {
                        "$ref": "#/components/parameters/Token"
                    },
                    {
                        "name": "nick",
                        "in": "body",
                        "description": "nick of the register form",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "required|email",
                            "example": "JorgitoCrack"
                        }
                    },
                    {
                        "name": "name",
                        "in": "body",
                        "description": "name of the register form",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "required",
                            "example": "Mark"
                        }
                    },
                    {
                        "name": "last_name",
                        "in": "body",
                        "description": "last_name of the register form",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "required",
                            "example": "Zuckenberg"
                        }
                    },
                    {
                        "name": "email",
                        "in": "body",
                        "description": "email of the register form",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "required|email|unique:users",
                            "example": "test@test.com"
                        }
                    },
                    {
                        "name": "id_college",
                        "in": "body",
                        "description": "id_college of the register form",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "required",
                            "example": "5"
                        }
                    },
                    {
                        "name": "password",
                        "in": "body",
                        "description": "password of the register form",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "required|confirmed|min:6",
                            "example": "password"
                        }
                    }

                    
                    

                ],
                "requestBody": {
                    "$ref": "#/components/requestBodies/RegisterBody"
                },
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/200Response"
                    },
                    "400": {
                        "$ref": "#/components/responses/400Response"
                    }
                }
            }
        },
        "/login": {
            "post": {
                "summary": "LOGIN",
                "description": "Login User From Form",
                "tags": ["Auth"],
                "parameters": [
                    {
                        "$ref": "#/components/parameters/Token"
                    },
                    {
                        "$ref": "#/components/parameters/email"
                    },
                    {
                        "name": "password",
                        "in": "body",
                        "description": "password of the register form",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "required",
                            "example": "password"
                        }
                    }
                    
                    

                ],
                "requestBody": {
                    "$ref": "#/components/requestBodies/RegisterBody"
                },
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/200Response"
                    },
                    "400": {
                        "$ref": "#/components/responses/400Response"
                    }
                }
            }
        },
        "/users/get-user": {
            "post": {
                "summary": "GET-USER",
                "description": "Find User by id",
                "tags": ["User"],
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "id_user",
                        "in": "body",
                        "description": "id from user",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "required",
                            "example": "5"
                        }
                    }
                ],
                "requestBody": {
                    "$ref": "#/components/requestBodies/GetUserBody"
                },
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/CreateResponse"
                    },
                    "400": {
                        "$ref": "#/components/responses/400msgResponse"
                    }
                }
            }
        },
        "/users/edit-user": {
            "post": {
                "summary": "EDIT-USER",
                "description": "Edit User by id",
                "tags": ["User"],
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "id_user",
                        "in": "body",
                        "description": "id from user",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "required",
                            "example": "5"
                        }
                    },
                    {
                        "name": "name",
                        "in": "body",
                        "description": "name from user",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "",
                            "example": "Mike"
                        }
                    },
                    {
                        "name": "last_name",
                        "in": "body",
                        "description": "last_name from user",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "",
                            "example": "Romero"
                        }
                    },
                    {
                        "name": "nick",
                        "in": "body",
                        "description": "nick from user",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "",
                            "example": "TerminatorCoC"
                        }
                    },
                    {
                        "name": "nick",
                        "in": "body",
                        "description": "nick from user",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "",
                            "example": "TerminatorCoC"
                        }
                    },
                    {
                        "name": "email",
                        "in": "body",
                        "description": "email from user",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "",
                            "example": "terminator@gmail.com"
                        }
                    },
                    {
                        "name": "role",
                        "in": "body",
                        "description": "email from user",
                        "required": true,
                        "schema": {
                            "type": "enum",
                            "enum": ["student","teacher","college_manager","admin"],
                            "example": "student"
                        }
                    },
                    {
                        "name": "pepas",
                        "in": "body",
                        "description": "number of pepas from user",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "",
                            "example": "10"
                        }
                    },
                    {
                        "name": "profile_img",
                        "in": "body",
                        "description": "profile_img from user",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "",
                            "example": "/assets/img/prueba.png"
                        }
                    },
                    {
                        "name": "id_poper",
                        "in": "body",
                        "description": "id_poper from user",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "",
                            "example": "1"
                        }
                    },
                    {
                        "name": "inventory",
                        "in": "body",
                        "description": "inventory from user",
                        "required": true,
                        "schema": {
                            "type": "json",
                            "description": "",
                            "example": ""
                        }
                    },
                    {
                        "name": "birth_date",
                        "in": "body",
                        "description": "birth_date from user",
                        "required": true,
                        "schema": {
                            "type": "date",
                            "description": "",
                            "example": "1974-11-07"
                        }
                    }

                    

                    

                ],
                "requestBody": {
                    "$ref": "#/components/requestBodies/EditUserBody"
                },
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/200Response"
                    },
                    "400": {
                        "$ref": "#/components/responses/400Response"
                    }
                }
            }
        },
        "/users/modify-gems": {
            "post": {
                "summary": "MODIFY-GEMS",
                "description": "Modify gems by user",
                "tags": ["User"],
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "id_user",
                        "in": "body",
                        "description": "id from user",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "required",
                            "example": "5"
                        }
                    },
                    {
                        "name": "pepas",
                        "in": "body",
                        "description": "pepas from user",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "required",
                            "example": "5"
                        }
                    }
                ],
                "requestBody": {
                    "$ref": "#/components/requestBodies/ModifyGemsBody"
                },
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/200onlymsgResponse"
                    },
                    "400": {
                        "$ref": "#/components/responses/400onlymsgResponse"
                    }
                }
            }
        },
        "/users/get-users-college": {
            "post": {
                "summary": "GET-USERS-COLLEGE",
                "description": "get users college",
                "tags": ["User"],
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "id_college",
                        "in": "body",
                        "description": "id_college from user",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "required",
                            "example": "5"
                        }
                    }
                ],
                "requestBody": {
                    "$ref": "#/components/requestBodies/GetUsersCollegeBody"
                },
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/CreateResponse"
                    },
                    "400": {
                        "$ref": "#/components/responses/400succesmsgResponse"
                    }
                }
            }
        },
        "/users/get-teachers-college": {
            "post": {
                "summary": "GET-TEACHERS-COLLEGE",
                "description": "get-teachers-college",
                "tags": ["User"],
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "id_college",
                        "in": "body",
                        "description": "id_college from user",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "required",
                            "example": "5"
                        }
                    }
                ],
                "requestBody": {
                    "$ref": "#/components/requestBodies/GetUsersCollegeBody"
                },
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/CreateResponse"
                    },
                    "400": {
                        "$ref": "#/components/responses/400succesmsgResponse"
                    }
                }
            }
        },
        "/users/add-course": {
            "post": {
                "summary": "ADD-COURSE",
                "description": "add-course",
                "tags": ["User"],
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "id_course",
                        "in": "body",
                        "description": "id_college from user",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "required",
                            "example": "5"
                        }
                    },
                    {
                        "name": "id_user",
                        "in": "body",
                        "description": "id_college from user",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "required",
                            "example": "5"
                        }
                    }
                ],
                "requestBody": {
                    "$ref": "#/components/requestBodies/AddCourseBody"
                },
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/200onlymsgResponse"
                    },
                    "400": {
                        "$ref": "#/components/responses/400onlymsgResponse"
                    }
                }
            }
        },
        "/users/remove-course": {
            "post": {
                "summary": "REMOVE-COURSE",
                "description": "remove-course",
                "tags": ["User"],
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "id_course",
                        "in": "body",
                        "description": "id_college from user",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "required",
                            "example": "5"
                        }
                    },
                    {
                        "name": "id_user",
                        "in": "body",
                        "description": "id_college from user",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "required",
                            "example": "5"
                        }
                    }
                ],
                "requestBody": {
                    "$ref": "#/components/requestBodies/AddCourseBody"
                },
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/200onlymsgResponse"
                    },
                    "400": {
                        "$ref": "#/components/responses/400onlymsgResponse"
                    }
                }
            }
        },
        "/users/change-password": {
            "post": {
                "summary": "CHANGE-PASSWORD",
                "description": "change-password",
                "tags": ["User"],
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "id_user",
                        "in": "body",
                        "description": "id_user from user",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "required",
                            "example": "5"
                        }
                    },
                    {
                        "name": "password",
                        "in": "body",
                        "description": "password from user",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "required",
                            "example": "password"
                        }
                    },
                    {
                        "name": "new_password",
                        "in": "body",
                        "description": "new_password from user",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "required",
                            "example": "newpassword"
                        }
                    },
                    {
                        "name": "confirm_password",
                        "in": "body",
                        "description": "confirm_password from user",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "required",
                            "example": "confirm password"
                        }
                    }
                ],
                "requestBody": {
                    "$ref": "#/components/requestBodies/AddCourseBody"
                },
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/200onlymsgResponse"
                    },
                    "400": {
                        "$ref": "#/components/responses/400onlymsgResponse"
                    }
                }
            }
        }
    },

    "components": {

        "securitySchemes": {
            "bearerAuth": {
                "type": "http",
                "scheme": "bearer",
                "bearerFormat": "JWT"
            }
        },
        "parameters": {
            "Token": {
                "name": "token",
                "in": "body",
                "description": "token to be passed as a header",
                "required": true,
                "schema": {
                    "type": "string",
                    "description": "required|email",
                    "example": "token"
                }
            },
            "email": {
                "name": "email",
                "in": "body",
                "description": "email of the form",
                "required": true,
                "schema": {
                    "type": "string",
                    "description": "required|email",
                    "example": "test@test.com"
                }
            }
        },
        "requestBodies": {
            "AuthBody": {
                "$ref": "LoginBody.json"
            },
            "RegisterBody": {
                "$ref": "RegisterBody.json"
            },
            "GetUserBody": {
                "$ref": "GetUserBody.json"
            },
            "EditUserBody": {
                "$ref": "EditUserBody.json"
            },
            "ModifyGemsBody": {
                "$ref": "ModifyGemsBody.json"
            },
            "GetUsersCollegeBody": {
                "$ref": "GetUsersCollege.json"
            },
            "AddCourseBody": {
                "$ref": "AddCourseBody.json"
            }
        },
        "responses": {
            "AuthResponse": {
                "description": "Esta respuesta es si todo ok",
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "LoginResponse.json"
                        }
                    }
                }

            },
            "200Response": {
                "description": "Creado con exito!",
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "200Response.json"
                        }
                    }
                }

            },
            "400Response": {
                "description": "Fallo al crear!",
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "400Response.json"
                        }
                    }
                }

            },
            "403Response": {
                "description": "Fallo al entrar!",
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "403Response.json"
                        }
                    }
                }

            },
            "200.3Response": {
                "description": "Has entrado con exito!!",
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "200.3Response.json"
                        }
                    }
                }

            },
            "CreateResponse": {
                "description": "Ha funcionado con exito!!",
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "CreateResponse.json"
                        }
                    }
                }

            },
            "400msgResponse": {
                "description": "Encontrado con exito!!",
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "400msgResponse.json"
                        }
                    }
                }

            },
            "400onlymsgResponse": {
                "description": "no encontrado!",
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "400onlymsgResponse.json"
                        }
                    }
                }

            },
            "200onlymsgResponse": {
                "description": "Encontrado con exito!!",
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "400onlymsgResponse.json"
                        }
                    }
                }

            },
            "400succesdataResponse": {
                "description": "No encontrado",
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "400succesdataResponse.json"
                        }
                    }
                }

            },
            "400succesmsgResponse": {
                "description": "No encontrado",
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "400succesmsgResponse.json"
                        }
                    }
                }

            }
        }
    }
}