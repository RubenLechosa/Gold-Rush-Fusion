<app-loader *ngIf="!dataLoaded"></app-loader>

<main *ngIf="dataLoaded | async">
    <app-navbar [user_details]="user_data"></app-navbar>

    <div class="main">
        <div class="container">
            <h1 class="text-white">Edit @{{user_data.nick}}</h1>
            <img src="{{user_data.profile_img}}" width="150" alt="profile image" class="rounded-circle mb-3 mt-3">
            
            <form (ngSubmit)="onSubmit()" [formGroup]="form">
                <input type="text" ngModel="{{user_data.nick}}" formControlName="nick" class="form-control mb-3">
                <input type="text" ngModel="{{user_data.name}}" formControlName="name" class="form-control mb-3">
                <input type="text" ngModel="{{user_data.last_name}}" formControlName="last_name" class="form-control mb-3">
                <input type="email" ngModel="{{user_data.email}}" formControlName="email" class="form-control mb-3">
                <select ngModel="{{user_data.role}}" formControlName="role" class="form-select mb-3">
                    <option value="student">Student</option>
                    <option value="teacher">Teacher</option>
                    <option value="college_manager">College Manager</option>
                </select>
                <input type="date" ngModel="{{user_data.birth_date}}" formControlName="birth_date" class="form-control mb-3">
                <a class="btn btn-danger me-3 text-white" href="/manager">Cancel</a>
                <button class="btn btn-primary" type="submit">Save</button>
            </form>
        </div>
    </div>
</main>
